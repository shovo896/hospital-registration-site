<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hospital Management System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Main Navigation -->
    <nav class="main-nav">
        <div class="container">
            <div class="logo">üè• IbneSina Hospital</div>
            <div class="nav-links">
                <button onclick="showSection('home')" class="nav-btn">Home</button>
                <button onclick="checkAuthAndShow('patient-dashboard')" class="nav-btn" id="patient-nav" style="display: none;">Patient</button>
                <button onclick="checkAuthAndShow('donor-dashboard')" class="nav-btn" id="donor-nav" style="display: none;">Donor</button>
                <button onclick="checkAuthAndShow('employee-dashboard')" class="nav-btn" id="employee-nav" style="display: none;">Employee</button>
                <button onclick="checkAuthAndShow('admin')" class="nav-btn" id="admin-nav" style="display: none;">Admin</button>
                <button onclick="showSection('login')" class="nav-btn" id="login-btn">Login</button>
                <button onclick="logout()" class="nav-btn" id="logout-btn" style="display: none; background: #ef4444; color: white;">Logout</button>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="section active">
        <div class="container">
            <div class="hero">
                <h1>Welcome to IbneSina Hospital</h1>
                <p id="hero-subtitle">Quality Healthcare Services at Your Fingertips</p>
                <div class="quick-actions">
                    <button id="home-auth-cta" onclick="showSection('login')" class="btn btn-primary">Login / Register</button>
                </div>
            </div>

            </div>

            <div class="notice-board-wrapper">
                <div class="notice-board-header">
                    <div>
                        <p class="eyebrow">Bloom & Care</p>
                        <h2>üåπ Hospital Notice Board</h2>
                        <p class="muted">Latest updates, offers, and care reminders inspired by rose & sunflower warmth.</p>
                    </div>
                    <div class="notice-flowers">üåª üåπ üåª</div>
                </div>
                <div id="notice-board" class="notice-grid"></div>
            </div>

            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">üè•</div>
                    <h3>Expert Medical Care</h3>
                    <p>Experienced doctors and medical professionals</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üî¨</div>
                    <h3>Advanced Diagnostics</h3>
                    <p>State-of-the-art testing facilities</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üè•</div>
                    <h3>Modern Facilities</h3>
                    <p>General Ward, Cabin & ICU available</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">ü©∏</div>
                    <h3>Blood Bank</h3>
                    <p>Save lives through blood donation</p>
                </div>
            </div>

            <div style="margin-top: 50px; text-align: center;">
                <h2 style="color: var(--primary-color); margin-bottom: 20px;">Why Choose IbneSina Hospital?</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 30px;">
                    <div style="padding: 20px;">
                        <div style="font-size: 40px; margin-bottom: 10px;">‚è∞</div>
                        <h3>24/7 Service</h3>
                        <p>Round-the-clock emergency services</p>
                    </div>
                    <div style="padding: 20px;">
                        <div style="font-size: 40px; margin-bottom: 10px;">üí∞</div>
                        <h3>Affordable Care</h3>
                        <p>Quality healthcare at reasonable prices</p>
                    </div>
                    <div style="padding: 20px;">
                        <div style="font-size: 40px; margin-bottom: 10px;">üì±</div>
                        <h3>Easy Booking</h3>
                        <p>Online appointment system</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Login/Register Section -->
    <section id="login" class="section">
        <div class="container">
            <div class="form-container">
                <h2>Login / Register</h2>
                
                <!-- Role Selection -->
                <div id="role-selection">
                    <h3>Select Your Role</h3>
                    <div class="role-grid">
                        <div class="role-card" onclick="selectRole('patient')">
                            <div class="role-icon">ü§í</div>
                            <h4>Patient</h4>
                            <p>Book appointments & manage health</p>
                        </div>
                        <div class="role-card" onclick="selectRole('donor')">
                            <div class="role-icon">ü©∏</div>
                            <h4>Blood Donor</h4>
                            <p>Donate blood & save lives</p>
                        </div>
                        <div class="role-card" onclick="selectRole('employee')">
                            <div class="role-icon">üë®‚Äç‚öïÔ∏è</div>
                            <h4>Employee</h4>
                            <p>Hospital staff access</p>
                        </div>
                        <div class="role-card" onclick="selectRole('admin')">
                            <div class="role-icon">üëî</div>
                            <h4>Admin</h4>
                            <p>System administration</p>
                        </div>
                    </div>
                </div>

                <!-- Login Form (Initially Hidden) -->
                <div id="login-form-section" style="display: none;">
                    <button onclick="backToRoleSelection()" class="btn btn-secondary" style="margin-bottom: 20px;">‚Üê Back</button>
                    <h3 id="login-role-title">Login</h3>
                    
                    <form id="unified-login-form">
                        <div class="form-group">
                            <label for="login-username">Phone Number / Username *</label>
                            <input type="text" id="login-username" required placeholder="Enter phone or username">
                        </div>
                        <div class="form-group" id="password-field" style="display: none;">
                            <label for="login-password">Password *</label>
                            <input type="password" id="login-password" placeholder="Enter password">
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
                    </form>
                    
                    <p style="text-align: center; margin-top: 20px;" id="register-link">
                        Don't have an account? 
                        <a href="#" onclick="showRegisterForm(); return false;" style="color: #2563eb; font-weight: bold;">Register Here</a>
                    </p>
                </div>

                <!-- Registration Form (Initially Hidden) -->
                <div id="register-form-section" style="display: none;">
                    <button onclick="backToLogin()" class="btn btn-secondary" style="margin-bottom: 20px;">‚Üê Back to Login</button>
                    <h3 id="register-role-title">Register</h3>
                    
                    <form id="unified-register-form">
                        <div class="form-group">
                            <label for="register-name">Full Name *</label>
                            <input type="text" id="register-name" required>
                        </div>
                        <div class="form-group">
                            <label for="register-photo">Profile Photo (URL)</label>
                            <input type="url" id="register-photo" placeholder="https://example.com/me.jpg">
                        </div>
                        <div class="form-group">
                            <label for="register-phone">Phone Number *</label>
                            <input type="tel" id="register-phone" required>
                        </div>
                        <div class="form-group" id="age-field">
                            <label for="register-age">Age *</label>
                            <input type="number" id="register-age" min="1" max="120">
                        </div>
                        <div class="form-group" id="blood-group-field">
                            <label for="register-blood">Blood Group</label>
                            <select id="register-blood">
                                <option value="">Select</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                            </select>
                        </div>
                        <div class="form-group" id="employee-id-field" style="display: none;">
                            <label for="register-employee-id">Employee ID *</label>
                            <input type="text" id="register-employee-id">
                        </div>
                        <div class="form-group" id="department-field" style="display: none;">
                            <label for="register-department">Department *</label>
                            <select id="register-department">
                                <option value="">Select Department</option>
                                <option value="reception">Reception</option>
                                <option value="nursing">Nursing</option>
                                <option value="laboratory">Laboratory</option>
                                <option value="pharmacy">Pharmacy</option>
                                <option value="accounts">Accounts</option>
                            </select>
                        </div>
                        <div class="form-group" id="password-register-field">
                            <label for="register-password">Create Password *</label>
                            <input type="password" id="register-password" placeholder="Choose a login password">
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Register</button>
                    </form>
                </div>

                <div id="auth-status" class="status-message"></div>
            </div>
        </div>
    </section>

    <!-- Patient Dashboard Section -->
    <section id="patient-dashboard" class="section">
        <div class="container">
            <h2>üë§ Patient Dashboard</h2>

            <!-- Patient Sub Navigation -->
            <div class="sub-nav">
                <button onclick="showPatientTab('patient-profile')" class="sub-nav-btn active">My Profile</button>
                <button onclick="showPatientTab('patient-doctors')" class="sub-nav-btn">Doctors</button>
                <button onclick="showPatientTab('patient-diagnostics')" class="sub-nav-btn">Diagnostics</button>
                <button onclick="showPatientTab('patient-wards')" class="sub-nav-btn">Wards</button>
                <button onclick="showPatientTab('patient-appointments')" class="sub-nav-btn">My Appointments</button>
            </div>

            <!-- Patient Profile Tab -->
            <div id="patient-profile" class="dashboard-tab active">
                <div class="profile-card">
                        <div class="profile-header">
                        <div class="profile-avatar" id="patient-avatar">
                            <span id="patient-avatar-fallback">P</span>
                        </div>
                        <div class="profile-info">
                            <h3 id="patient-name-display">Patient Name</h3>
                            <p id="patient-id-display">ID: P000000</p>
                        </div>
                        <button onclick="toggleProfileEdit()" class="btn btn-secondary" id="edit-profile-btn">‚úèÔ∏è Edit Profile</button>
                    </div>
                    
                    <!-- Profile View Mode -->
                    <div id="profile-view-mode" class="profile-details">
                        <div class="detail-item">
                            <span class="detail-label">üìû Phone:</span>
                            <span id="view-phone" class="detail-value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">üéÇ Age:</span>
                            <span id="view-age" class="detail-value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ü©∏ Blood Group:</span>
                            <span id="view-blood" class="detail-value">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">üìÖ Registered:</span>
                            <span id="view-registered" class="detail-value">-</span>
                        </div>
                    </div>

                    <!-- Profile Edit Mode -->
                    <div id="profile-edit-mode" class="profile-details" style="display: none;">
                        <form id="profile-edit-form">
                            <div class="form-group">
                                <label for="edit-name">Full Name *</label>
                            <input type="text" id="edit-name" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-photo">Profile Photo (URL)</label>
                            <input type="url" id="edit-photo" placeholder="https://example.com/me.jpg">
                            </div>
                            <div class="form-group">
                                <label for="edit-phone">Phone Number *</label>
                            <input type="tel" id="edit-phone" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-age">Age *</label>
                            <input type="number" id="edit-age" required min="1" max="120">
                            </div>
                            <div class="form-group">
                                <label for="edit-blood">Blood Group</label>
                            <select id="edit-blood">
                                    <option value="">Select</option>
                                    <option value="A+">A+</option>
                                    <option value="A-">A-</option>
                                    <option value="B+">B+</option>
                                    <option value="B-">B-</option>
                                    <option value="O+">O+</option>
                                    <option value="O-">O-</option>
                                    <option value="AB+">AB+</option>
                                    <option value="AB-">AB-</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 10px;">
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                                <button type="button" onclick="cancelProfileEdit()" class="btn btn-secondary">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="profile-card secondary-card">
                    <div class="profile-header" style="align-items: flex-start;">
                        <div>
                            <h3>ü©∫ Medical History</h3>
                            <p class="muted">Track diagnoses and notes for future visits.</p>
                        </div>
                    </div>
                    <form id="patient-history-form" class="stacked-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="history-condition">Condition / Diagnosis *</label>
                                <input type="text" id="history-condition" required placeholder="e.g., Hypertension">
                            </div>
                            <div class="form-group">
                                <label for="history-date">Recorded On</label>
                                <input type="date" id="history-date">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="history-notes">Notes</label>
                            <textarea id="history-notes" rows="2" placeholder="Medicines, triggers, doctor advice"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Save History</button>
                    </form>
                    <div id="patient-history-list" class="profile-list" style="margin-top: 16px;"></div>
                </div>

                <div class="profile-card secondary-card password-card">
                    <div class="profile-header" style="align-items: flex-start;">
                        <div>
                            <h3>üîê Password & Security</h3>
                            <p class="muted">Password options stay hidden until you unlock with your existing password.</p>
                        </div>
                        <span id="password-lock-status" class="lock-pill locked">Locked</span>
                    </div>

                    <div class="security-visual">
                        <img src="https://images.unsplash.com/photo-1519121785383-3229633bb4e1?auto=format&fit=crop&w=900&q=80" alt="Secure access illustration" loading="lazy">
                        <div class="security-quote">
                            Keep your credentials safe with a protected, one-at-a-time unlock.
                        </div>
                    </div>

                    <div id="password-gate" class="security-gate">
                        <p class="muted" id="password-gate-hint">Enter your existing password to view password controls.</p>
                        <form id="password-access-form" class="stacked-form">
                            <div class="form-group">
                                <label for="password-access">Existing Password</label>
                                <input type="password" id="password-access" placeholder="Required to unlock settings" required>
                            </div>
                            <button type="submit" class="btn btn-secondary" style="width: 100%;">Unlock Password Settings</button>
                        </form>
                    </div>

                    <form id="password-update-form" class="stacked-form locked-panel" aria-hidden="true">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="new-password">New Password *</label>
                                <input type="password" id="new-password" required>
                            </div>
                            <div class="form-group">
                                <label for="confirm-password">Confirm New Password *</label>
                                <input type="password" id="confirm-password" required>
                            </div>
                        </div>
                        <p class="muted" id="password-unlock-msg">Unlocked just for this session. Save to update, or relock anytime.</p>
                        <div class="button-row">
                            <button type="button" class="btn btn-secondary ghost" id="relock-password-panel">Relock</button>
                            <button type="submit" class="btn btn-primary" style="width: 50%;">Save Password</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Patient Doctors Tab -->
            <div id="patient-doctors" class="dashboard-tab">
                <h3>Book Doctor Appointment</h3>
                <div id="patient-doctors-grid" class="doctors-grid">
                    <!-- Doctors will load here -->
                </div>
            </div>

            <!-- Patient Diagnostics Tab -->
            <div id="patient-diagnostics" class="dashboard-tab">
                <h3>Book Diagnostic Test</h3>
                <div class="diagnostics-grid">
                    <div class="diagnostic-card" onclick="bookDiagnostic('Blood Test')">
                        <div class="diagnostic-icon">ü©∏</div>
                        <h3>Blood Test</h3>
                        <p>Complete Blood Count, Sugar, Lipid Profile</p>
                        <button class="btn btn-secondary">Book Now</button>
                    </div>
                    <div class="diagnostic-card" onclick="bookDiagnostic('X-Ray')">
                        <div class="diagnostic-icon">ü¶¥</div>
                        <h3>X-Ray</h3>
                        <p>Digital X-Ray Imaging</p>
                        <button class="btn btn-secondary">Book Now</button>
                    </div>
                    <div class="diagnostic-card" onclick="bookDiagnostic('ECG')">
                        <div class="diagnostic-icon">‚ù§Ô∏è</div>
                        <h3>ECG</h3>
                        <p>Electrocardiogram Test</p>
                        <button class="btn btn-secondary">Book Now</button>
                    </div>
                    <div class="diagnostic-card" onclick="bookDiagnostic('MRI')">
                        <div class="diagnostic-icon">üß†</div>
                        <h3>MRI</h3>
                        <p>Magnetic Resonance Imaging</p>
                        <button class="btn btn-secondary">Book Now</button>
                    </div>
                    <div class="diagnostic-card" onclick="bookDiagnostic('Ultrasound')">
                        <div class="diagnostic-icon">üì°</div>
                        <h3>Ultrasound</h3>
                        <p>Sonography Services</p>
                        <button class="btn btn-secondary">Book Now</button>
                    </div>
                    <div class="diagnostic-card" onclick="bookDiagnostic('CT Scan')">
                        <div class="diagnostic-icon">üíø</div>
                        <h3>CT Scan</h3>
                        <p>Computed Tomography</p>
                        <button class="btn btn-secondary">Book Now</button>
                    </div>
                </div>
            </div>

            <!-- Patient Wards Tab -->
            <div id="patient-wards" class="dashboard-tab">
                <h3>Request Ward Admission</h3>
                <div class="wards-grid">
                    <div class="ward-card" onclick="requestAdmission('General')">
                        <div class="ward-icon">üõèÔ∏è</div>
                        <h3>General Ward</h3>
                        <p>Shared accommodation with basic facilities</p>
                        <p class="ward-price">‡ß≥500/day</p>
                        <button class="btn btn-secondary">Request Admission</button>
                    </div>
                    <div class="ward-card" onclick="requestAdmission('Cabin')">
                        <div class="ward-icon">üö™</div>
                        <h3>Cabin</h3>
                        <p>Private room with attached bathroom</p>
                        <p class="ward-price">‡ß≥2000/day</p>
                        <button class="btn btn-secondary">Request Admission</button>
                    </div>
                    <div class="ward-card emergency" onclick="requestAdmission('ICU')">
                        <div class="ward-icon">üö®</div>
                        <h3>ICU</h3>
                        <p>Intensive Care Unit with 24/7 monitoring</p>
                        <p class="ward-price">‡ß≥5000/day</p>
                        <button class="btn btn-primary">Request Admission</button>
                    </div>
                </div>
            </div>

            <!-- Patient Appointments Tab -->
            <div id="patient-appointments" class="dashboard-tab">
                <h3>My Appointments & Bookings</h3>
                
                <div class="profile-section">
                    <h4>üìÖ Doctor Appointments</h4>
                    <div id="patient-appointments-list" class="profile-list">
                        <!-- Appointments -->
                    </div>
                </div>

                <div class="profile-section">
                    <h4>üî¨ Diagnostic Tests</h4>
                    <div id="patient-diagnostics-list" class="profile-list">
                        <!-- Diagnostics -->
                    </div>
                </div>

                <div class="profile-section">
                    <h4>üè• Ward Admissions</h4>
                    <div id="patient-admissions-list" class="profile-list">
                        <!-- Admissions -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Donor Dashboard Section -->
    <section id="donor-dashboard" class="section">
        <div class="container">
            <h2>ü©∏ Donor Dashboard</h2>

            <div class="sub-nav">
                <button onclick="showDonorTab('donor-profile')" class="sub-nav-btn active">Profile</button>
                <button onclick="showDonorTab('donor-donate')" class="sub-nav-btn">Donate</button>
                <button onclick="showDonorTab('donor-requests')" class="sub-nav-btn">Requests</button>
                <button onclick="showDonorTab('donor-history')" class="sub-nav-btn">History</button>
            </div>

            <!-- Donor Profile Tab -->
            <div id="donor-profile" class="dashboard-tab active">
                <div class="profile-card donor-card">
                    <div class="profile-header">
                        <div class="profile-avatar profile-avatar-gradient">
                            <span id="donor-avatar">D</span>
                        </div>
                        <div class="profile-info">
                            <h3 id="donor-name-display">Donor Name</h3>
                            <p id="donor-id-display">ID: D000000</p>
                            <div class="donor-tag" id="donor-blood-tag">Blood Group: -</div>
                        </div>
                        <div class="donor-highlight" id="donor-last-donation">Last donation: N/A</div>
                    </div>

                    <div class="donor-stats-grid">
                        <div class="donor-stat">
                            <p class="stat-label">Total Donations</p>
                            <p class="stat-value" id="donor-total-donations">0</p>
                        </div>
                        <div class="donor-stat">
                            <p class="stat-label">Units Donated</p>
                            <p class="stat-value" id="donor-total-units">0</p>
                        </div>
                        <div class="donor-stat">
                            <p class="stat-label">Next Booking</p>
                            <p class="stat-value" id="donor-next-booking">None</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Donate Tab -->
            <div id="donor-donate" class="dashboard-tab">
                <div class="donation-card">
                    <div class="donation-header">
                        <div>
                            <h3>Schedule a Donation</h3>
                            <p>Choose a date and units to confirm your next visit.</p>
                        </div>
                        <div class="donor-pill" id="donor-next-eligible">Next eligible: -</div>
                    </div>
                    <form id="donation-form" class="donation-form">
                        <div class="form-group">
                            <label for="donation-date">Donation Date *</label>
                            <input type="date" id="donation-date" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="donation-units">Units (bags) *</label>
                                <input type="number" id="donation-units" min="1" max="3" value="1" required>
                            </div>
                            <div class="form-group">
                                <label for="donation-location">Preferred Center</label>
                                <input type="text" id="donation-location" placeholder="e.g., Main Blood Bank">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="donation-notes">Health Notes</label>
                            <textarea id="donation-notes" rows="3" placeholder="Recent medicine, travel, or health updates"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Confirm Donation</button>
                    </form>
                </div>
            </div>

            <!-- Requests Tab -->
            <div id="donor-requests" class="dashboard-tab">
                <div class="profile-section">
                    <h4>üö® Emergency Requests Near You</h4>
                    <div id="donor-requests-list" class="profile-list"></div>
                </div>
            </div>

            <!-- History Tab -->
            <div id="donor-history" class="dashboard-tab">
                <div class="profile-section">
                    <h4>üìú Donation History</h4>
                    <div id="donor-donations-list" class="profile-list"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Donor & Employee Dashboards -->
    <section id="diagnostics" class="section">
        <div class="container">
            <div class="access-denied">
                <h2>üîí Access Restricted</h2>
                <p>Please login to book diagnostic tests.</p>
                <button onclick="showSection('login')" class="btn btn-primary">Go to Login</button>
            </div>
        </div>
    </section>

    <!-- Blood Bank Section (LOGIN REQUIRED) -->
    <section id="blood-bank" class="section">
        <div class="container">
            <div class="access-denied">
                <h2>üîí Access Restricted</h2>
                <p>Please login to access blood bank services.</p>
                <button onclick="showSection('login')" class="btn btn-primary">Go to Login</button>
            </div>
        </div>
    </section>

    <!-- Wards Section (LOGIN REQUIRED) -->
    <section id="wards" class="section">
        <div class="container">
            <div class="access-denied">
                <h2>üîí Access Restricted</h2>
                <p>Please login to request ward admission.</p>
                <button onclick="showSection('login')" class="btn btn-primary">Go to Login</button>
            </div>
        </div>
    </section>

    <!-- Doctor Appointment Modal -->
    <div id="appointment-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('appointment-modal')">&times;</span>
            <h2>Book Appointment</h2>
            <div id="selected-doctor-info"></div>
            <form id="appointment-form">
               
                <div class="form-group">
                    <label for="appointment-slot">Available Time Slots *</label>
                    <div id="slots-info" style="padding: 10px; background: #f0f9ff; border-radius: 5px; margin-bottom: 10px; font-size: 13px;">
                        Select a date to see available slots
                    </div>
                    <select id="appointment-slot" required>
                        <option value="">Select Date First</option>
                    </select>
                </div>
                <div class="form-group">
                  <label for="appointment-date">Select Date *</label>
                    <input type="date"
                        id="appointment-date"
                                required
                    onchange="loadAvailableTimeSlots()">
</div>

                

                <button type="submit" class="btn btn-primary">Confirm Appointment</button>
            </form>
        </div>
    </div>

    <!-- Blood Bank Section (LOGIN REQUIRED) -->
    <section id="blood-bank" class="section">
        <div class="container">
            <div class="access-denied">
                <h2>üîí Access Restricted</h2>
                <p>Please login to access blood bank services.</p>
                <button onclick="showSection('login')" class="btn btn-primary">Go to Login</button>
            </div>
        </div>
    </section>

    <!-- Diagnostic Booking Modal -->
    <div id="diagnostic-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('diagnostic-modal')">&times;</span>
            <h2>Book Diagnostic Test</h2>
            <div id="selected-diagnostic-info"></div>
            <form id="diagnostic-form">
                <div class="form-group">
                    <label for="diagnostic-date">Select Date *</label>
                            <input type="date" id="diagnostic-date" required>
                </div>
                <div class="form-group">
                    <label for="diagnostic-slot">Select Time Slot *</label>
                            <select id="diagnostic-slot" required>
                        <option value="">Select Slot</option>
                        <option value="08:00-09:00">08:00 AM - 09:00 AM</option>
                        <option value="09:00-10:00">09:00 AM - 10:00 AM</option>
                        <option value="10:00-11:00">10:00 AM - 11:00 AM</option>
                        <option value="11:00-12:00">11:00 AM - 12:00 PM</option>
                        <option value="14:00-15:00">02:00 PM - 03:00 PM</option>
                        <option value="15:00-16:00">03:00 PM - 04:00 PM</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Confirm Booking</button>
            </form>
        </div>
    </div>

    <!-- Wards Section (LOGIN REQUIRED) -->
    <section id="wards" class="section">
        <div class="container">
            <div class="access-denied">
                <h2>üîí Access Restricted</h2>
                <p>Please login to request ward admission.</p>
                <button onclick="showSection('login')" class="btn btn-primary">Go to Login</button>
            </div>
        </div>
    </section>

    <!-- Ward Admission Modal -->
    <div id="ward-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('ward-modal')">&times;</span>
            <h2>Ward Admission Request</h2>
            <div id="selected-ward-info"></div>
            <form id="ward-form">
                <div class="form-group">
                    <label for="admission-reason">Reason for Admission *</label>
                            <textarea id="admission-reason" required rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="emergency-status">Emergency Case?</label>
                            <select id="emergency-status">
                        <option value="no">No</option>
                        <option value="yes">Yes - High Priority</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expected-duration">Expected Duration (days)</label>
                            <input type="number" id="expected-duration" min="1" value="1">
                </div>
                <button type="submit" class="btn btn-primary">Submit Request</button>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('admin-login-modal')">&times;</span>
            <h2>üîê Admin Login</h2>
            <p style="text-align: center; color: #64748b; margin-bottom: 20px;">Enter admin credentials to access dashboard</p>
            <form id="admin-login-form">
                <div class="form-group">
                    <label for="admin-username">Username *</label>
                            <input type="text" id="admin-username" required placeholder="Enter username">
                </div>
                <div class="form-group">
                    <label for="admin-password">Password *</label>
                            <input type="password" id="admin-password" required placeholder="Enter password">
                </div>
                <div id="login-error" style="color: #ef4444; text-align: center; margin-bottom: 10px; display: none;"></div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
            <div style="margin-top: 20px; padding: 15px; background: #f0f9ff; border-radius: 5px; font-size: 13px;">
                <strong>Default Credentials:</strong><br>
                Username: <code>admin</code><br>
                Password: <code>admin123</code>
            </div>
        </div>
    </div>

    <!-- Blood Donation Modal -->
    <div id="donate-blood-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('donate-blood-modal')">&times;</span>
            <h2>‚ù§Ô∏è Donate Blood</h2>
            <p style="text-align: center; color: #64748b; margin-bottom: 20px;">Save lives by donating blood</p>
            <form id="donate-blood-form">
                <div class="form-group">
                    <label for="donate-blood-group">Blood Group *</label>
                            <select id="donate-blood-group" required>
                        <option value="">Select Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="donate-units">Units to Donate *</label>
                            <select id="donate-units" required>
                        <option value="1">1 Unit (450ml)</option>
                        <option value="2">2 Units (900ml)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="last-donation-date">Last Donation Date (if any)</label>
                            <input type="date" id="last-donation-date">
                    <small>Note: Must wait 3 months between donations</small>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="health-declaration" required>
                        I am healthy and fit to donate blood
                    </label>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Donate Now</button>
            </form>
        </div>
    </div>

    <!-- Blood Request Modal -->
    <div id="request-blood-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('request-blood-modal')">&times;</span>
            <h2>üö® Emergency Blood Request</h2>
            <p style="text-align: center; color: #ef4444; margin-bottom: 20px; font-weight: bold;">Emergency Blood Required</p>
            <form id="request-blood-form">
                <div class="form-group">
                    <label for="request-patient-name">Patient Name *</label>
                            <input type="text" id="request-patient-name" required>
                </div>
                <div class="form-group">
                    <label for="request-blood-group">Blood Group Required *</label>
                            <select id="request-blood-group" required>
                        <option value="">Select Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="request-units">Units Required *</label>
                            <input type="number" id="request-units" required min="1" max="10" value="1">
                </div>
                <div class="form-group">
                    <label for="request-reason">Reason/Diagnosis *</label>
                            <textarea id="request-reason" required rows="3" placeholder="e.g., Surgery, Accident, Thalassemia"></textarea>
                </div>
                <div class="form-group">
                    <label for="request-contact">Contact Number *</label>
                            <input type="tel" id="request-contact" required>
                </div>
                <div class="form-group">
                    <label for="request-deadline">Required By *</label>
                            <input type="datetime-local" id="request-deadline" required>
                </div>
                <button type="submit" class="btn btn-danger" style="width: 100%;">Submit Emergency Request</button>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal (continued) -->

    <!-- Admin Section -->
    <section id="admin" class="section">
        <div class="container">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>Admin Dashboard</h2>
                <button onclick="logoutAdmin()" class="btn btn-danger">üö™ Logout</button>
            </div>
            
            <!-- Admin Tabs -->
            <div class="admin-tabs">
                <button class="tab-btn active" data-tab="doctors-mgmt" onclick="showAdminTab('doctors-mgmt')">Doctors</button>
                <button class="tab-btn" data-tab="diagnostics-mgmt" onclick="showAdminTab('diagnostics-mgmt')">Diagnostics</button>
                <button class="tab-btn" data-tab="blood-mgmt" onclick="showAdminTab('blood-mgmt')">Blood Bank</button>
                <button class="tab-btn" data-tab="wards-mgmt" onclick="showAdminTab('wards-mgmt')">Wards</button>
                <button class="tab-btn" data-tab="queues" onclick="showAdminTab('queues')">Live Queues</button>
                <button class="tab-btn" data-tab="notice-mgmt" onclick="showAdminTab('notice-mgmt')">Notices</button>
                <button class="tab-btn" data-tab="analytics" onclick="showAdminTab('analytics')">Analytics</button>
            </div>

            <!-- Doctors Management Tab -->
            <div id="doctors-mgmt" class="admin-tab active">
                <div class="admin-section">
                    <h3>Manage Doctors</h3>
                    <button onclick="showAddDoctorForm()" class="btn btn-primary">+ Add New Doctor</button>
                    
                    <div id="add-doctor-form" class="form-container" style="display: none;">
                        <h4>Add Doctor</h4>
                        <form id="doctor-form">
                            <div class="form-group">
                                <label for="doctor-name">Doctor Name *</label>
                            <input type="text" id="doctor-name" required>
                            </div>
                            <div class="form-group">
                                <label for="doctor-specialization">Specialization *</label>
                            <input type="text" id="doctor-specialization" required>
                            </div>
                            <div class="form-group">
                                <label for="doctor-phone">Phone Number *</label>
                            <input type="tel" id="doctor-phone" required>
                            </div>
                            <div class="form-group">
                                <label for="doctor-photo">Profile Picture (Optional)</label>
                            <input type="text" id="doctor-photo" placeholder="Image URL or leave blank for default">
                                <small>Note: Add image later using &lt;img&gt; tag</small>
                            </div>
                            <div class="form-group">
                                <label for="doctor-fee">Consultation Fee</label>
                            <input type="number" id="doctor-fee" value="500">
                            </div>
                            <button type="submit" class="btn btn-primary">Save Doctor</button>
                            <button type="button" onclick="cancelAddDoctor()" class="btn btn-secondary">Cancel</button>
                        </form>
                    </div>

                    <div id="doctors-list-admin" class="data-table">
                        <!-- Admin doctors list -->
                    </div>
                </div>
            </div>

            <!-- Diagnostics Management Tab -->
            <div id="diagnostics-mgmt" class="admin-tab">
                <div class="admin-section">
                    <h3>Diagnostic Services Queue</h3>
                    <div id="diagnostic-queues">
                        <!-- Diagnostic queues will be shown here -->
                    </div>
                </div>
            </div>

            <!-- Blood Bank Management Tab -->
            <div id="blood-mgmt" class="admin-tab">
                <div class="admin-section">
                    <h3>Blood Bank Dashboard</h3>
                    
                    <!-- Blood Stock Overview -->
                    <div class="blood-stock-admin">
                        <h4>Current Blood Stock</h4>
                        <div class="blood-groups-grid" id="admin-blood-stock">
                            <!-- Blood stock cards -->
                        </div>
                    </div>

                    <!-- All Donations -->
                    <div style="margin-top: 30px;">
                        <h4>All Blood Donations</h4>
                        <div id="admin-all-donations">
                            <!-- All donations list -->
                        </div>
                    </div>

                    <!-- Blood Requests Management -->
                    <div style="margin-top: 30px;">
                        <h4>Emergency Blood Requests</h4>
                        <div id="admin-blood-requests">
                            <!-- Blood requests management -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Wards Management Tab -->
            <div id="wards-mgmt" class="admin-tab">
                <div class="admin-section">
                    <h3>Ward Admission Requests</h3>
                    <div id="ward-requests-admin">
                        <!-- Ward admission requests -->
                    </div>
                </div>
            </div>

            <!-- Live Queues Tab -->
            <div id="queues" class="admin-tab">
                <div class="admin-section">
                    <h3>Doctor Appointment Queues</h3>
                    <div id="doctor-queues">
                        <!-- Live doctor queues -->
                    </div>
                </div>
            </div>

            <!-- Notice Board Tab -->
            <div id="notice-mgmt" class="admin-tab">
                <div class="admin-section">
                    <div class="notice-admin-header">
                        <div>
                            <p class="eyebrow">Floral Dispatch</p>
                            <h3>Notice Board Controls</h3>
                            <p class="muted">Share updates that bloom across the home page.</p>
                        </div>
                        <div class="notice-flowers">üåªüåπüåª</div>
                    </div>

                    <form id="notice-form" class="notice-form">
                        <div class="form-group">
                            <label for="notice-title">Notice Title *</label>
                            <input type="text" id="notice-title" required placeholder="e.g., Rose Week Discount Clinics">
                        </div>
                        <div class="form-group">
                            <label for="notice-message">Message *</label>
                            <textarea id="notice-message" rows="3" required placeholder="Share the details patients should know"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="notice-type">Tone</label>
                                <select id="notice-type">
                                    <option value="info">Info</option>
                                    <option value="success">Positive</option>
                                    <option value="warning">Heads-up</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="notice-image">Photo (optional)</label>
                                <input type="url" id="notice-image" placeholder="https://image.example.com/poster.jpg">
                            </div>
                            <div class="form-group">
                                <label for="notice-highlight">Emoji Accent</label>
                                <input type="text" id="notice-highlight" placeholder="üå∏ or üåª" maxlength="2">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Post to Notice Board</button>
                    </form>

                    <div class="notice-admin-list" id="notice-list-admin">
                        <!-- Admin notices render here -->
                    </div>
                </div>
            </div>

            <!-- Analytics Tab -->
            <div id="analytics" class="admin-tab">
                <div class="admin-section">
                    <h3>System Analytics</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h4>Total Patients</h4>
                            <p class="stat-number" id="total-patients">0</p>
                        </div>
                        <div class="stat-card">
                            <h4>Today's Appointments</h4>
                            <p class="stat-number" id="today-appointments">0</p>
                        </div>
                        <div class="stat-card">
                            <h4>Pending Admissions</h4>
                            <p class="stat-number" id="pending-admissions">0</p>
                        </div>
                        <div class="stat-card">
                            <h4>Active Queues</h4>
                            <p class="stat-number" id="active-queues">0</p>
                        </div>
                    </div>

                    <div class="alerts-section">
                        <h4>System Alerts</h4>
                        <div id="system-alerts" class="alerts-container">
                            <!-- Alerts will appear here -->
                        </div>
                    </div>

                    <div class="admin-actions">
                        <button onclick="resetDailyData()" class="btn btn-danger">Reset Daily Data</button>
                        <button onclick="exportData()" class="btn btn-secondary">Export Data</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('payment-modal')">&times;</span>
            <h2>üí≥ Payment</h2>
            <div id="payment-info" style="text-align: center; margin-bottom: 20px;">
                <!-- Payment details will be shown here -->
            </div>
            <form id="payment-form">
                <div class="form-group">
                    <label for="payment-method">Select Payment Method *</label>
                            <select id="payment-method" required onchange="updatePaymentFields()">
                        <option value="">Select Method</option>
                        <option value="bkash">bKash</option>
                        <option value="nagad">Nagad</option>
                        <option value="visa">Visa Card</option>
                        <option value="cash">Cash (at hospital)</option>
                        <option value="savings">Savings Account</option>
                    </select>
                </div>

                <!-- bKash/Nagad Fields -->
                <div id="mobile-payment-fields" style="display: none;">
                    <div class="form-group">
                        <label for="mobile-number">Mobile Number *</label>
                            <input type="tel" id="mobile-number" placeholder="01XXXXXXXXX">
                    </div>
                    <div class="form-group">
                        <label for="transaction-id">Transaction ID *</label>
                            <input type="text" id="transaction-id" placeholder="Enter transaction ID">
                        <small>Pay to: 01700000000 and enter TrxID</small>
                    </div>
                </div>

                <!-- Visa Card Fields -->
                <div id="visa-fields" style="display: none;">
                    <div class="form-group">
                        <label for="card-number">Card Number *</label>
                            <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label for="card-expiry">Expiry Date *</label>
                            <input type="text" id="card-expiry" placeholder="MM/YY" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label for="card-cvv">CVV *</label>
                            <input type="text" id="card-cvv" placeholder="123" maxlength="3">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="card-name">Cardholder Name *</label>
                            <input type="text" id="card-name" placeholder="Name on card">
                    </div>
                </div>

                <!-- Savings Account Fields -->
                <div id="savings-fields" style="display: none;">
                    <div class="form-group">
                        <label for="account-number">Account Number *</label>
                            <input type="text" id="account-number" placeholder="Enter account number">
                    </div>
                    <div class="form-group">
                        <label for="account-holder">Account Holder Name *</label>
                            <input type="text" id="account-holder" placeholder="Account holder name">
                    </div>
                    <div class="form-group">
                        <label for="bank-name">Bank Name *</label>
                            <select id="bank-name">
                            <option value="">Select Bank</option>
                            <option value="islami">Islami Bank</option>
                            <option value="dutch-bangla">Dutch-Bangla Bank</option>
                            <option value="brac">BRAC Bank</option>
                            <option value="city">City Bank</option>
                            <option value="standard">Standard Chartered</option>
                            <option value="hsbc">HSBC</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%;">Confirm Payment</button>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
</body>
</html>
